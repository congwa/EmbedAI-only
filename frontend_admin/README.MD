# EmbedAI 管理后台使用指南

![EmbedAI Logo](https://img.shields.io/badge/EmbedAI-RAG推荐系统-blue?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMTJMMTEgMTRMMTUgMTBNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxUzcgMTYuOTcwNiA3IDEyIDExLjAyOTQgNyAxNiA3UzIxIDExLjAyOTQgMjEgMTJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K)

## 📖 系统概述

EmbedAI管理后台是基于React + TypeScript构建的现代化管理界面，提供知识库管理、用户管理、数据分析等核心功能，帮助管理员高效管理RAG推荐系统。

## 🚀 快速开始

### 环境要求
- Node.js >= 18.0.0
- pnpm >= 8.0.0
- 现代浏览器支持

### 安装与启动

```bash
# 1. 进入前端管理目录
cd frontend_admin

# 2. 安装依赖
pnpm install

# 3. 启动开发服务器
pnpm dev

# 4. 构建生产版本
pnpm build

# 5. 预览构建结果
pnpm preview
```

### 访问地址
- **开发环境**: http://localhost:5173
- **生产环境**: 根据部署配置

### 🔐 初始化超级管理员账户

**重要**: 系统首次启动时需要创建超级管理员账户，系统没有预设的默认账号密码。

#### 前置条件
1. 确保后端服务已启动
2. 确保数据库连接正常

#### 创建步骤

**方法一：使用 curl 命令**
```bash
# 1. 启动后端服务
cd server
python main.py

# 2. 调用初始化接口创建超级管理员
curl -X POST "http://localhost:8000/api/auth/initialize-admin" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "your_secure_password_123"
  }'
```

**方法二：使用 API 测试工具**
- 访问 http://localhost:8000/api/docs
- 找到 `POST /api/auth/initialize-admin` 接口
- 点击 "Try it out"
- 填入用户名和密码：
  ```json
  {
    "username": "admin",
    "password": "your_secure_password_123"
  }
  ```
- 点击 "Execute" 执行

#### 成功响应示例
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer",
  "user": {
    "id": 1,
    "username": "admin",
    "role": "superadmin"
  }
}
```

#### 🔒 安全建议
- **强密码**: 使用至少8位包含大小写字母、数字和特殊字符的密码
- **定期更换**: 建议定期更换管理员密码
- **权限管控**: 谨慎分配超级管理员权限

#### ⚠️ 注意事项
- 此接口只能在系统没有任何管理员时调用
- 创建成功后，该接口将被禁用
- 超级管理员拥有系统最高权限，请妥善保管账户信息

## 🎯 功能模块详解

### 1. 📊 仪表板 (`/dashboard`)

**功能说明**: 系统总览页面，显示关键指标和实时状态

**使用流程**:
1. 登录后自动跳转到仪表板
2. 查看系统概况数据：
   - 知识库数量统计
   - 用户数量统计
   - 文件处理状态
   - 系统资源使用情况
3. 查看近期活动日志
4. 快速访问常用功能入口

**关键指标**:
- 📈 总知识库数量
- 👥 活跃用户数
- 📁 文档处理状态
- 🔍 查询请求统计

---

### 2. 🗄️ 数据库管理 (`/databases`)

**功能说明**: 管理知识库数据库的创建、配置、维护和删除

**核心操作流程**:

#### 2.1 创建知识库
1. 点击 **"创建数据库"** 按钮
2. 填写必要信息：
   - **数据库名称** *（必填）*: 如 "电商产品知识库"
   - **描述信息**: 数据库用途说明
   - **嵌入模型**: 选择向量嵌入模型（默认: text-embedding-ada-002）
   - **向量维度**: 设置向量维度（默认: 1536）
3. 点击 **"创建数据库"** 完成创建
4. 系统自动生成唯一的数据库ID（格式: kb_xxxxxxxx）

#### 2.2 管理现有知识库
1. **查看列表**: 浏览所有知识库，显示：
   - 数据库名称和描述
   - 创建时间
   - 文件数量统计
   - 运行状态（活跃/未激活/构建中）

2. **搜索过滤**: 
   - 使用搜索框按名称、描述或ID筛选
   - 按状态筛选知识库

3. **维护操作**:
   - **重建索引**: 优化查询性能（注意：耗时操作）
   - **删除数据库**: 永久删除（⚠️ 不可撤销）

#### 2.3 最佳实践
- 数据库名称建议使用有意义的描述
- 定期检查文件数量和状态
- 谨慎使用删除功能，建议先备份

---

### 3. 🕸️ 图数据库管理 (`/graphs`)

**功能说明**: 管理知识图谱，可视化实体关系网络

**主要功能**:

#### 3.1 图谱可视化
1. 选择目标知识库
2. 设置查询参数：
   - **节点标签**: 指定起始实体（使用 "*" 获取全图）
   - **最大深度**: 控制关系遍历深度（1-5层）
   - **最大节点数**: 限制显示节点数量
3. 查看交互式图谱可视化

#### 3.2 实体管理
1. **查看实体列表**: 浏览图谱中的所有实体
2. **搜索实体**: 按实体名称快速查找
3. **分析关系**: 查看实体间的关联关系

#### 3.3 图谱分析
- 查看图谱统计信息
- 分析实体类型分布
- 监控图谱完整性

---

### 4. 👥 用户管理 (`/users`)

**功能说明**: 管理系统用户账户、权限和活动记录

**管理功能**:

#### 4.1 用户列表管理
1. **查看用户信息**:
   - 用户名和角色标识
   - 注册时间
   - 最后登录时间
   - 权限级别标识

2. **搜索用户**: 按用户名或角色类型筛选

#### 4.2 角色权限说明
- 🔴 **超级管理员**: 最高权限，可管理所有功能
- 🟡 **管理员**: 可管理知识库和普通用户
- 🟢 **普通用户**: 基础查询和浏览权限

#### 4.3 用户统计
- 总用户数量
- 管理员用户数量  
- 普通用户数量

**注意事项**:
- 权限变更需要谨慎操作
- 建议定期审查用户活动

---

### 5. 📤 文件上传 (`/upload`)

**功能说明**: 批量上传文档到指定知识库

**操作流程**:

#### 5.1 文件上传步骤
1. **选择目标知识库**: 从下拉列表选择
2. **选择文件**: 支持多文件选择
   - 支持格式: PDF, TXT, MD, DOCX等
   - 单文件大小限制: 50MB
   - 批量上传限制: 100个文件
3. **配置处理参数**:
   - 文本分块大小
   - 重叠长度设置
   - 处理优先级
4. **开始上传**: 查看实时进度

#### 5.2 文件处理状态
- ⏳ **上传中**: 文件正在传输
- 🔄 **处理中**: 正在进行文本解析和向量化
- ✅ **完成**: 已成功添加到知识库
- ❌ **失败**: 处理出错，查看错误详情

#### 5.3 批量管理
- 查看上传历史记录
- 重新处理失败的文件
- 删除已上传的文件

---

### 6. 📈 数据分析 (`/analytics`) TODO: 待完成

**功能说明**: 系统使用情况分析和性能监控

**分析维度**:

#### 6.1 使用统计
- **查询量趋势**: 按时间段统计查询请求
- **热门知识库**: 使用频次排行
- **用户活跃度**: 活跃用户分析
- **响应时间**: 查询性能分析

#### 6.2 内容分析
- **文档分布**: 各知识库文档数量对比
- **处理状态**: 文件处理成功率统计
- **存储使用**: 磁盘空间使用情况

#### 6.3 导出功能
- 数据报表导出（Excel/PDF格式）
- 自定义时间范围统计
- 定期报告生成

---

### 7. ⚙️ 系统设置 (`/settings`) TODO: 待完成

**功能说明**: 系统配置和参数调优

**配置项目**:

#### 7.1 系统参数
- **API配置**: 后端服务地址设置
- **缓存设置**: Redis连接配置
- **日志级别**: 系统日志详细程度

#### 7.2 AI模型配置
- **嵌入模型**: 选择和配置向量嵌入模型
- **LLM模型**: 大语言模型接口设置
- **推理参数**: temperature、top_p等参数调整

#### 7.3 安全设置
- **访问控制**: IP白名单设置
- **会话管理**: 登录超时配置
- **数据备份**: 自动备份策略

## 🔧 技术栈

- **前端框架**: React 19 + TypeScript
- **UI组件**: Radix UI + Tailwind CSS
- **状态管理**: Zustand + React Query
- **路由管理**: React Router DOM
- **构建工具**: Vite
- **代码规范**: ESLint + Prettier

## 📝 操作最佳实践

### 💡 日常使用建议

1. **定期检查仪表板**: 每日查看系统状态概览
2. **及时处理告警**: 关注异常状态和错误提示
3. **合理规划知识库**: 按业务场景分类管理
4. **监控资源使用**: 定期查看存储和性能指标

### ⚠️ 重要注意事项

1. **数据备份**: 重要操作前建议先备份
2. **权限控制**: 严格控制管理员权限分配
3. **性能优化**: 大批量操作建议在低峰期进行
4. **安全意识**: 定期更新密码，避免权限滥用

### 🚨 故障排除

#### 常见问题处理
1. **文件上传失败**: 检查文件格式和大小限制
2. **查询响应慢**: 考虑重建索引或优化配置
3. **用户无法登录**: 检查权限设置和账户状态
4. **页面加载异常**: 清除浏览器缓存或联系技术支持

#### 应急联系方式
- **技术支持**: tech-support@embedai.com
- **紧急热线**: +86-400-xxx-xxxx
- **在线文档**: https://docs.embedai.com

## 📞 技术支持

如果您在使用过程中遇到问题，请通过以下方式联系我们：

- 📧 邮箱: support@embedai.com
- 💬 在线客服: 工作日 9:00-18:00
- 📚 文档中心: https://docs.embedai.com
- 🔧 GitHub Issues: https://github.com/embedai/issues

---

**版权所有 © 2024 EmbedAI Team. 保留所有权利。**

> 💡 **提示**: 本系统持续优化中，建议定期查看更新日志获取最新功能信息。
